var{defineProperty:P0,getOwnPropertyNames:c1,getOwnPropertyDescriptor:n1}=Object,l1=Object.prototype.hasOwnProperty;var Y1=new WeakMap,oh=($)=>{var X=Y1.get($),j;if(X)return X;if(X=P0({},"__esModule",{value:!0}),$&&typeof $==="object"||typeof $==="function")c1($).map((v)=>!l1.call(X,v)&&P0(X,v,{get:()=>$[v],enumerable:!(j=n1($,v))||j.enumerable}));return Y1.set($,X),X};var X1=($,X)=>{for(var j in X)P0($,j,{get:X[j],enumerable:!0,configurable:!0,set:(v)=>X[j]=()=>v})};var Z1=($,X)=>()=>($&&(X=$($=0)),X);var ph=(($)=>typeof require!=="undefined"?require:typeof Proxy!=="undefined"?new Proxy($,{get:(X,j)=>(typeof require!=="undefined"?require:X)[j]}):$)(function($){if(typeof require!=="undefined")return require.apply(this,arguments);throw Error('Dynamic require of "'+$+'" is not supported')});var _0={};X1(_0,{win32:()=>E0,toNamespacedPath:()=>Yv,sep:()=>Lv,resolve:()=>Cv,relative:()=>Qv,posix:()=>Qh,parse:()=>Gv,normalize:()=>$v,join:()=>Jv,isAbsolute:()=>jv,format:()=>qv,extname:()=>Kv,dirname:()=>Xv,delimiter:()=>Wv,default:()=>vv,basename:()=>Zv});var o1,q1,p1,u1,i1,a1,s1=($,X)=>()=>(X||$((X={exports:{}}).exports,X),X.exports),d1=($,X,j,v)=>{if(X&&typeof X=="object"||typeof X=="function")for(let f of u1(X))!a1.call($,f)&&f!==j&&q1($,f,{get:()=>X[f],enumerable:!(v=p1(X,f))||v.enumerable});return $},r1=($,X,j)=>(j=$!=null?o1(i1($)):{},d1(X||!$||!$.__esModule?q1(j,"default",{value:$,enumerable:!0}):j,$)),e1,G1,_,hv,K1=function($){return $},L1=function(){throw new Error("Not implemented")},Qh,E0,vv,Cv,$v,jv,Jv,Qv,Yv,Xv,Zv,Kv,qv,Gv,Lv,Wv;var M0=Z1(()=>{o1=Object.create,q1=Object.defineProperty,p1=Object.getOwnPropertyDescriptor,u1=Object.getOwnPropertyNames,i1=Object.getPrototypeOf,a1=Object.prototype.hasOwnProperty,e1=s1(($,X)=>{function j(Y){if(typeof Y!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(Y))}function v(Y,Q){for(var Z="",K=0,z=-1,G=0,B,W=0;W<=Y.length;++W){if(W<Y.length)B=Y.charCodeAt(W);else{if(B===47)break;B=47}if(B===47){if(!(z===W-1||G===1))if(z!==W-1&&G===2){if(Z.length<2||K!==2||Z.charCodeAt(Z.length-1)!==46||Z.charCodeAt(Z.length-2)!==46){if(Z.length>2){var b=Z.lastIndexOf("/");if(b!==Z.length-1){b===-1?(Z="",K=0):(Z=Z.slice(0,b),K=Z.length-1-Z.lastIndexOf("/")),z=W,G=0;continue}}else if(Z.length===2||Z.length===1){Z="",K=0,z=W,G=0;continue}}Q&&(Z.length>0?Z+="/..":Z="..",K=2)}else Z.length>0?Z+="/"+Y.slice(z+1,W):Z=Y.slice(z+1,W),K=W-z-1;z=W,G=0}else B===46&&G!==-1?++G:G=-1}return Z}function f(Y,Q){var Z=Q.dir||Q.root,K=Q.base||(Q.name||"")+(Q.ext||"");return Z?Z===Q.root?Z+K:Z+Y+K:K}var D={resolve:function(){for(var Y="",Q=!1,Z,K=arguments.length-1;K>=-1&&!Q;K--){var z;K>=0?z=arguments[K]:(Z===void 0&&(Z=process.cwd()),z=Z),j(z),z.length!==0&&(Y=z+"/"+Y,Q=z.charCodeAt(0)===47)}return Y=v(Y,!Q),Q?Y.length>0?"/"+Y:"/":Y.length>0?Y:"."},normalize:function(Y){if(j(Y),Y.length===0)return".";var Q=Y.charCodeAt(0)===47,Z=Y.charCodeAt(Y.length-1)===47;return Y=v(Y,!Q),Y.length===0&&!Q&&(Y="."),Y.length>0&&Z&&(Y+="/"),Q?"/"+Y:Y},isAbsolute:function(Y){return j(Y),Y.length>0&&Y.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var Y,Q=0;Q<arguments.length;++Q){var Z=arguments[Q];j(Z),Z.length>0&&(Y===void 0?Y=Z:Y+="/"+Z)}return Y===void 0?".":D.normalize(Y)},relative:function(Y,Q){if(j(Y),j(Q),Y===Q||(Y=D.resolve(Y),Q=D.resolve(Q),Y===Q))return"";for(var Z=1;Z<Y.length&&Y.charCodeAt(Z)===47;++Z);for(var K=Y.length,z=K-Z,G=1;G<Q.length&&Q.charCodeAt(G)===47;++G);for(var B=Q.length,W=B-G,b=z<W?z:W,w=-1,H=0;H<=b;++H){if(H===b){if(W>b){if(Q.charCodeAt(G+H)===47)return Q.slice(G+H+1);if(H===0)return Q.slice(G+H)}else z>b&&(Y.charCodeAt(Z+H)===47?w=H:H===0&&(w=0));break}var M=Y.charCodeAt(Z+H),k=Q.charCodeAt(G+H);if(M!==k)break;M===47&&(w=H)}var O="";for(H=Z+w+1;H<=K;++H)(H===K||Y.charCodeAt(H)===47)&&(O.length===0?O+="..":O+="/..");return O.length>0?O+Q.slice(G+w):(G+=w,Q.charCodeAt(G)===47&&++G,Q.slice(G))},_makeLong:function(Y){return Y},dirname:function(Y){if(j(Y),Y.length===0)return".";for(var Q=Y.charCodeAt(0),Z=Q===47,K=-1,z=!0,G=Y.length-1;G>=1;--G)if(Q=Y.charCodeAt(G),Q===47){if(!z){K=G;break}}else z=!1;return K===-1?Z?"/":".":Z&&K===1?"//":Y.slice(0,K)},basename:function(Y,Q){if(Q!==void 0&&typeof Q!="string")throw new TypeError('"ext" argument must be a string');j(Y);var Z=0,K=-1,z=!0,G;if(Q!==void 0&&Q.length>0&&Q.length<=Y.length){if(Q.length===Y.length&&Q===Y)return"";var B=Q.length-1,W=-1;for(G=Y.length-1;G>=0;--G){var b=Y.charCodeAt(G);if(b===47){if(!z){Z=G+1;break}}else W===-1&&(z=!1,W=G+1),B>=0&&(b===Q.charCodeAt(B)?--B===-1&&(K=G):(B=-1,K=W))}return Z===K?K=W:K===-1&&(K=Y.length),Y.slice(Z,K)}else{for(G=Y.length-1;G>=0;--G)if(Y.charCodeAt(G)===47){if(!z){Z=G+1;break}}else K===-1&&(z=!1,K=G+1);return K===-1?"":Y.slice(Z,K)}},extname:function(Y){j(Y);for(var Q=-1,Z=0,K=-1,z=!0,G=0,B=Y.length-1;B>=0;--B){var W=Y.charCodeAt(B);if(W===47){if(!z){Z=B+1;break}continue}K===-1&&(z=!1,K=B+1),W===46?Q===-1?Q=B:G!==1&&(G=1):Q!==-1&&(G=-1)}return Q===-1||K===-1||G===0||G===1&&Q===K-1&&Q===Z+1?"":Y.slice(Q,K)},format:function(Y){if(Y===null||typeof Y!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof Y);return f("/",Y)},parse:function(Y){j(Y);var Q={root:"",dir:"",base:"",ext:"",name:""};if(Y.length===0)return Q;var Z=Y.charCodeAt(0),K=Z===47,z;K?(Q.root="/",z=1):z=0;for(var G=-1,B=0,W=-1,b=!0,w=Y.length-1,H=0;w>=z;--w){if(Z=Y.charCodeAt(w),Z===47){if(!b){B=w+1;break}continue}W===-1&&(b=!1,W=w+1),Z===46?G===-1?G=w:H!==1&&(H=1):G!==-1&&(H=-1)}return G===-1||W===-1||H===0||H===1&&G===W-1&&G===B+1?W!==-1&&(B===0&&K?Q.base=Q.name=Y.slice(1,W):Q.base=Q.name=Y.slice(B,W)):(B===0&&K?(Q.name=Y.slice(1,G),Q.base=Y.slice(1,W)):(Q.name=Y.slice(B,G),Q.base=Y.slice(B,W)),Q.ext=Y.slice(G,W)),B>0?Q.dir=Y.slice(0,B-1):K&&(Q.dir="/"),Q},sep:"/",delimiter:":",win32:null,posix:null};D.posix=D,X.exports=D}),G1=r1(e1()),_=G1,hv=G1;_.parse??=L1;hv.parse??=L1;Qh={resolve:_.resolve.bind(_),normalize:_.normalize.bind(_),isAbsolute:_.isAbsolute.bind(_),join:_.join.bind(_),relative:_.relative.bind(_),toNamespacedPath:K1,dirname:_.dirname.bind(_),basename:_.basename.bind(_),extname:_.extname.bind(_),format:_.format.bind(_),parse:_.parse.bind(_),sep:"/",delimiter:":",win32:void 0,posix:void 0,_makeLong:K1},E0={sep:"\\",delimiter:";",win32:void 0,...Qh,posix:Qh};Qh.win32=E0.win32=E0;Qh.posix=Qh;vv=Qh,{resolve:Cv,normalize:$v,isAbsolute:jv,join:Jv,relative:Qv,toNamespacedPath:Yv,dirname:Xv,basename:Zv,extname:Kv,format:qv,parse:Gv,sep:Lv,delimiter:Wv}=Qh});var m0={};X1(m0,{resolveObject:()=>B1,resolve:()=>z1,parse:()=>Oh,format:()=>O1,default:()=>Iv,Url:()=>u,URLSearchParams:()=>V1,URL:()=>l0});function t0($){return typeof $=="string"}function k1($){return typeof $=="object"&&$!==null}function uh($){return $===null}function fv($){return $==null}function u(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function Oh($,X,j){if($&&k1($)&&$ instanceof u)return $;var v=new u;return v.parse($,X,j),v}function O1($){return t0($)&&($=Oh($)),$ instanceof u?$.format():u.prototype.format.call($)}function z1($,X){return Oh($,!1,!0).resolve(X)}function B1($,X){return $?Oh($,!1,!0).resolveObject(X):X}var l0,V1,Uv,Vv,kv,Ov,zv,y0,W1,f1,Bv=255,U1,Dv,wv,c0,kh,n0,Iv;var o0=Z1(()=>{({URL:l0,URLSearchParams:V1}=globalThis);Uv=/^([a-z0-9.+-]+:)/i,Vv=/:[0-9]*$/,kv=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,Ov=["<",">",'"',"`"," ","\r",`
`,"\t"],zv=["{","}","|","\\","^","`"].concat(Ov),y0=["'"].concat(zv),W1=["%","/","?",";","#"].concat(y0),f1=["/","?","#"],U1=/^[+a-z0-9A-Z_-]{0,63}$/,Dv=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,wv={javascript:!0,"javascript:":!0},c0={javascript:!0,"javascript:":!0},kh={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},n0={parse($){var X=decodeURIComponent;return($+"").replace(/\+/g," ").split("&").filter(Boolean).reduce(function(j,v,f){var D=v.split("="),Y=X(D[0]||""),Q=X(D[1]||""),Z=j[Y];return j[Y]=Z===void 0?Q:[].concat(Z,Q),j},{})},stringify($){var X=encodeURIComponent;return Object.keys($||{}).reduce(function(j,v){return[].concat($[v]).forEach(function(f){j.push(X(v)+"="+X(f))}),j},[]).join("&").replace(/\s/g,"+")}};u.prototype.parse=function($,X,j){if(!t0($))throw new TypeError("Parameter 'url' must be a string, not "+typeof $);var v=$.indexOf("?"),f=v!==-1&&v<$.indexOf("#")?"?":"#",D=$.split(f),Y=/\\/g;D[0]=D[0].replace(Y,"/"),$=D.join(f);var Q=$;if(Q=Q.trim(),!j&&$.split("#").length===1){var Z=kv.exec(Q);if(Z)return this.path=Q,this.href=Q,this.pathname=Z[1],Z[2]?(this.search=Z[2],X?this.query=n0.parse(this.search.substr(1)):this.query=this.search.substr(1)):X&&(this.search="",this.query={}),this}var K=Uv.exec(Q);if(K){K=K[0];var z=K.toLowerCase();this.protocol=z,Q=Q.substr(K.length)}if(j||K||Q.match(/^\/\/[^@\/]+@[^@\/]+/)){var G=Q.substr(0,2)==="//";G&&!(K&&c0[K])&&(Q=Q.substr(2),this.slashes=!0)}if(!c0[K]&&(G||K&&!kh[K])){for(var B=-1,W=0;W<f1.length;W++){var b=Q.indexOf(f1[W]);b!==-1&&(B===-1||b<B)&&(B=b)}var w,H;B===-1?H=Q.lastIndexOf("@"):H=Q.lastIndexOf("@",B),H!==-1&&(w=Q.slice(0,H),Q=Q.slice(H+1),this.auth=decodeURIComponent(w)),B=-1;for(var W=0;W<W1.length;W++){var b=Q.indexOf(W1[W]);b!==-1&&(B===-1||b<B)&&(B=b)}B===-1&&(B=Q.length),this.host=Q.slice(0,B),Q=Q.slice(B),this.parseHost(),this.hostname=this.hostname||"";var M=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!M)for(var k=this.hostname.split(/\./),W=0,O=k.length;W<O;W++){var F=k[W];if(!!F&&!F.match(U1)){for(var R="",S=0,hh=F.length;S<hh;S++)F.charCodeAt(S)>127?R+="x":R+=F[S];if(!R.match(U1)){var P=k.slice(0,W),V=k.slice(W+1),Jh=F.match(Dv);Jh&&(P.push(Jh[1]),V.unshift(Jh[2])),V.length&&(Q="/"+V.join(".")+Q),this.hostname=P.join(".");break}}}this.hostname.length>Bv?this.hostname="":this.hostname=this.hostname.toLowerCase(),M||(this.hostname=new l0(`https://${this.hostname}`).hostname);var zh=this.port?":"+this.port:"",ih=this.hostname||"";this.host=ih+zh,this.href+=this.host,M&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),Q[0]!=="/"&&(Q="/"+Q))}if(!wv[z])for(var W=0,O=y0.length;W<O;W++){var Yh=y0[W];if(Q.indexOf(Yh)!==-1){var Bh=encodeURIComponent(Yh);Bh===Yh&&(Bh=escape(Yh)),Q=Q.split(Yh).join(Bh)}}var Dh=Q.indexOf("#");Dh!==-1&&(this.hash=Q.substr(Dh),Q=Q.slice(0,Dh));var Uh=Q.indexOf("?");if(Uh!==-1?(this.search=Q.substr(Uh),this.query=Q.substr(Uh+1),X&&(this.query=n0.parse(this.query)),Q=Q.slice(0,Uh)):X&&(this.search="",this.query={}),Q&&(this.pathname=Q),kh[z]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var zh=this.pathname||"",ah=this.search||"";this.path=zh+ah}return this.href=this.format(),this};u.prototype.format=function(){var $=this.auth||"";$&&($=encodeURIComponent($),$=$.replace(/%3A/i,":"),$+="@");var X=this.protocol||"",j=this.pathname||"",v=this.hash||"",f=!1,D="";this.host?f=$+this.host:this.hostname&&(f=$+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(f+=":"+this.port)),this.query&&k1(this.query)&&Object.keys(this.query).length&&(D=n0.stringify(this.query));var Y=this.search||D&&"?"+D||"";return X&&X.substr(-1)!==":"&&(X+=":"),this.slashes||(!X||kh[X])&&f!==!1?(f="//"+(f||""),j&&j.charAt(0)!=="/"&&(j="/"+j)):f||(f=""),v&&v.charAt(0)!=="#"&&(v="#"+v),Y&&Y.charAt(0)!=="?"&&(Y="?"+Y),j=j.replace(/[?#]/g,function(Q){return encodeURIComponent(Q)}),Y=Y.replace("#","%23"),X+f+j+Y+v};u.prototype.resolve=function($){return this.resolveObject(Oh($,!1,!0)).format()};u.prototype.resolveObject=function($){if(t0($)){var X=new u;X.parse($,!1,!0),$=X}for(var j=new u,v=Object.keys(this),f=0;f<v.length;f++){var D=v[f];j[D]=this[D]}if(j.hash=$.hash,$.href==="")return j.href=j.format(),j;if($.slashes&&!$.protocol){for(var Y=Object.keys($),Q=0;Q<Y.length;Q++){var Z=Y[Q];Z!=="protocol"&&(j[Z]=$[Z])}return kh[j.protocol]&&j.hostname&&!j.pathname&&(j.path=j.pathname="/"),j.href=j.format(),j}if($.protocol&&$.protocol!==j.protocol){if(!kh[$.protocol]){for(var K=Object.keys($),z=0;z<K.length;z++){var G=K[z];j[G]=$[G]}return j.href=j.format(),j}if(j.protocol=$.protocol,!$.host&&!c0[$.protocol]){for(var O=($.pathname||"").split("/");O.length&&!($.host=O.shift()););$.host||($.host=""),$.hostname||($.hostname=""),O[0]!==""&&O.unshift(""),O.length<2&&O.unshift(""),j.pathname=O.join("/")}else j.pathname=$.pathname;if(j.search=$.search,j.query=$.query,j.host=$.host||"",j.auth=$.auth,j.hostname=$.hostname||$.host,j.port=$.port,j.pathname||j.search){var B=j.pathname||"",W=j.search||"";j.path=B+W}return j.slashes=j.slashes||$.slashes,j.href=j.format(),j}var b=j.pathname&&j.pathname.charAt(0)==="/",w=$.host||$.pathname&&$.pathname.charAt(0)==="/",H=w||b||j.host&&$.pathname,M=H,k=j.pathname&&j.pathname.split("/")||[],O=$.pathname&&$.pathname.split("/")||[],F=j.protocol&&!kh[j.protocol];if(F&&(j.hostname="",j.port=null,j.host&&(k[0]===""?k[0]=j.host:k.unshift(j.host)),j.host="",$.protocol&&($.hostname=null,$.port=null,$.host&&(O[0]===""?O[0]=$.host:O.unshift($.host)),$.host=null),H=H&&(O[0]===""||k[0]==="")),w)j.host=$.host||$.host===""?$.host:j.host,j.hostname=$.hostname||$.hostname===""?$.hostname:j.hostname,j.search=$.search,j.query=$.query,k=O;else if(O.length)k||(k=[]),k.pop(),k=k.concat(O),j.search=$.search,j.query=$.query;else if(!fv($.search)){if(F){j.hostname=j.host=k.shift();var R=j.host&&j.host.indexOf("@")>0?j.host.split("@"):!1;R&&(j.auth=R.shift(),j.host=j.hostname=R.shift())}return j.search=$.search,j.query=$.query,(!uh(j.pathname)||!uh(j.search))&&(j.path=(j.pathname?j.pathname:"")+(j.search?j.search:"")),j.href=j.format(),j}if(!k.length)return j.pathname=null,j.search?j.path="/"+j.search:j.path=null,j.href=j.format(),j;for(var S=k.slice(-1)[0],hh=(j.host||$.host||k.length>1)&&(S==="."||S==="..")||S==="",P=0,V=k.length;V>=0;V--)S=k[V],S==="."?k.splice(V,1):S===".."?(k.splice(V,1),P++):P&&(k.splice(V,1),P--);if(!H&&!M)for(;P--;P)k.unshift("..");H&&k[0]!==""&&(!k[0]||k[0].charAt(0)!=="/")&&k.unshift(""),hh&&k.join("/").substr(-1)!=="/"&&k.push("");var Jh=k[0]===""||k[0]&&k[0].charAt(0)==="/";if(F){j.hostname=j.host=Jh?"":k.length?k.shift():"";var R=j.host&&j.host.indexOf("@")>0?j.host.split("@"):!1;R&&(j.auth=R.shift(),j.host=j.hostname=R.shift())}return H=H||j.host&&k.length,H&&!Jh&&k.unshift(""),k.length?j.pathname=k.join("/"):(j.pathname=null,j.path=null),(!uh(j.pathname)||!uh(j.search))&&(j.path=(j.pathname?j.pathname:"")+(j.search?j.search:"")),j.auth=$.auth||j.auth,j.slashes=j.slashes||$.slashes,j.href=j.format(),j};u.prototype.parseHost=function(){var $=this.host,X=Vv.exec($);X&&(X=X[0],X!==":"&&(this.port=X.substr(1)),$=$.substr(0,$.length-X.length)),$&&(this.hostname=$)};Iv={parse:Oh,resolve:z1,resolveObject:B1,format:O1,Url:u,URL:l0,URLSearchParams:V1}});(function(){if(window.AudioContext=window.AudioContext||window.webkitAudioContext,window.AudioContext)window.audioContext=new window.AudioContext;var $=function(X){if(window.audioContext){var j=window.audioContext.createBuffer(1,1,22050),v=window.audioContext.createBufferSource();if(v.buffer=j,v.connect(window.audioContext.destination),v.start)v.start(0);else if(v.play)v.play(0);else if(v.noteOn)v.noteOn(0)}document.removeEventListener("touchstart",$),document.removeEventListener("touchend",$),document.removeEventListener("click",$)};document.addEventListener("touchstart",$),document.addEventListener("touchend",$),document.addEventListener("click",$),document.addEventListener("visibilitychange",()=>{if(!document.hidden){if(window.audioContext)window.audioContext.resume()}})})();var Mh;async function t1($){try{let X=await window.audioContext.decodeAudioData(new Uint8Array($).buffer),j=window.audioContext.createBufferSource();j.buffer=X,j.connect(Mh),j.start()}catch(X){}}function m1($){if(!Mh)Mh=window.audioContext.createGain(),Mh.connect(window.audioContext.destination);Mh.gain.value=$/128}var p0=(()=>{var $=import.meta.url;return async function(X={}){var j,v=X,f,D,Y=new Promise((h,J)=>{f=h,D=J}),Q=typeof window=="object",Z=typeof WorkerGlobalScope!="undefined",K=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string"&&process.type!="renderer",z=!Q&&!K&&!Z,G=Object.assign({},v),B=[],W="./this.program",b=(h,J)=>{throw J},w="";function H(h){if(v.locateFile)return v.locateFile(h,w);return w+h}var M,k;if(K){if(typeof process=="undefined"||!process.release||process.release.name!=="node")throw new Error("not compiled for this environment (did you build to HTML and try to run it not on the web, or set ENVIRONMENT to something - like node - and run it someplace else - like on the web?)");var O=process.versions.node,F=O.split(".").slice(0,3);F=F[0]*1e4+F[1]*100+F[2].split("-")[0]*1;var R=160000;if(F<160000)throw new Error("This emscripten-generated code requires node v16.0.0 (detected v"+O+")");var S=(()=>({})),hh=(M0(),oh(_0));if(!import.meta.url.startsWith("data:"))w=hh.dirname((o0(),oh(m0)).fileURLToPath(import.meta.url))+"/";if(k=(h)=>{h=s(h)?new URL(h):h;var J=S.readFileSync(h);return L(Buffer.isBuffer(J)),J},M=async(h,J=!0)=>{h=s(h)?new URL(h):h;var q=S.readFileSync(h,J?void 0:"utf8");return L(J?Buffer.isBuffer(q):typeof q=="string"),q},!v.thisProgram&&process.argv.length>1)W=process.argv[1].replace(/\\/g,"/");B=process.argv.slice(2),b=(h,J)=>{throw process.exitCode=h,J}}else if(z){if(typeof process=="object"&&!0||typeof window=="object"||typeof WorkerGlobalScope!="undefined")throw new Error("not compiled for this environment (did you build to HTML and try to run it not on the web, or set ENVIRONMENT to something - like node - and run it someplace else - like on the web?)")}else if(Q||Z){if(Z)w=self.location.href;else if(typeof document!="undefined"&&document.currentScript)w=document.currentScript.src;if($)w=$;if(w.startsWith("blob:"))w="";else w=w.substr(0,w.replace(/[?#].*/,"").lastIndexOf("/")+1);if(!(typeof window=="object"||typeof WorkerGlobalScope!="undefined"))throw new Error("not compiled for this environment (did you build to HTML and try to run it not on the web, or set ENVIRONMENT to something - like node - and run it someplace else - like on the web?)");{if(Z)k=(h)=>{var J=new XMLHttpRequest;return J.open("GET",h,!1),J.responseType="arraybuffer",J.send(null),new Uint8Array(J.response)};M=async(h)=>{if(s(h))return new Promise((q,U)=>{var I=new XMLHttpRequest;I.open("GET",h,!0),I.responseType="arraybuffer",I.onload=()=>{if(I.status==200||I.status==0&&I.response){q(I.response);return}U(I.status)},I.onerror=U,I.send(null)});var J=await fetch(h,{credentials:"same-origin"});if(J.ok)return J.arrayBuffer();throw new Error(J.status+" : "+J.url)}}}else throw new Error("environment detection error");var P=v.print||void 0,V=v.printErr||void 0;if(Object.assign(v,G),G=null,A0(),v.arguments)B=v.arguments;if(n("arguments","arguments_"),v.thisProgram)W=v.thisProgram;n("thisProgram","thisProgram"),L(typeof v.memoryInitializerPrefixURL=="undefined","Module.memoryInitializerPrefixURL option was removed, use Module.locateFile instead"),L(typeof v.pthreadMainPrefixURL=="undefined","Module.pthreadMainPrefixURL option was removed, use Module.locateFile instead"),L(typeof v.cdInitializerPrefixURL=="undefined","Module.cdInitializerPrefixURL option was removed, use Module.locateFile instead"),L(typeof v.filePackagePrefixURL=="undefined","Module.filePackagePrefixURL option was removed, use Module.locateFile instead"),L(typeof v.read=="undefined","Module.read option was removed"),L(typeof v.readAsync=="undefined","Module.readAsync option was removed (modify readAsync in JS)"),L(typeof v.readBinary=="undefined","Module.readBinary option was removed (modify readBinary in JS)"),L(typeof v.setWindowTitle=="undefined","Module.setWindowTitle option was removed (modify emscripten_set_window_title in JS)"),L(typeof v.TOTAL_MEMORY=="undefined","Module.TOTAL_MEMORY has been renamed Module.INITIAL_MEMORY"),n("asm","wasmExports"),n("readAsync","readAsync"),n("readBinary","readBinary"),n("setWindowTitle","setWindowTitle");var Jh="IDBFS is no longer included by default; build with -lidbfs.js",zh="PROXYFS is no longer included by default; build with -lproxyfs.js",ih="WORKERFS is no longer included by default; build with -lworkerfs.js",Yh="FETCHFS is no longer included by default; build with -lfetchfs.js",Bh="ICASEFS is no longer included by default; build with -licasefs.js",Dh="JSFILEFS is no longer included by default; build with -ljsfilefs.js",Uh="OPFS is no longer included by default; build with -lopfs.js",ah="NODEFS is no longer included by default; build with -lnodefs.js";L(!z,"shell environment detected but not enabled at build time.  Add `shell` to `-sENVIRONMENT` to enable.");var vh=v.wasmBinary;if(n("wasmBinary","wasmBinary"),typeof WebAssembly!="object")V("no native wasm support detected");var i,e=!1,sh;function L(h,J){if(!h)A("Assertion failed"+(J?": "+J:""))}var F1,a,Ch,Xh,dh,Zh,T,Kh,qh,rh,Gh,Lh=!1,eh="data:application/octet-stream;base64,",wh=(h)=>h.startsWith(eh),s=(h)=>h.startsWith("file://");function h0(){var h=lh();if(L((h&3)==0),h==0)h+=4;T[h>>2]=34821223,T[h+4>>2]=2310721022,T[0]=1668509029}function Wh(){if(e)return;var h=lh();if(h==0)h+=4;var J=T[h>>2],q=T[h+4>>2];if(J!=34821223||q!=2310721022)A(`Stack overflow! Stack cookie has been overwritten at ${$h(h)}, expected hex dwords 0x89BACDFE and 0x2135467, but received ${$h(q)} ${$h(J)}`);if(T[0]!=1668509029)A("Runtime error: The application has corrupted its heap memory area (address zero)!")}if((()=>{var h=new Int16Array(1),J=new Int8Array(h.buffer);if(h[0]=25459,J[0]!==115||J[1]!==99)throw"Runtime error: expected the system to be little-endian! (Run with -sSUPPORT_BIG_ENDIAN to bypass)"})(),v.ENVIRONMENT)throw new Error("Module.ENVIRONMENT has been deprecated. To force the environment, use the ENVIRONMENT compile-time option (for example, -sENVIRONMENT=web or -sENVIRONMENT=node)");function n(h,J,q=!0){if(!Object.getOwnPropertyDescriptor(v,h))Object.defineProperty(v,h,{configurable:!0,get(){let U=q?" (the initial value can be provided on Module, but after startup the value is only looked for on a local variable of that name)":"";A(`\`Module.${h}\` has been replaced by \`${J}\``+U)}})}function v0(h){if(Object.getOwnPropertyDescriptor(v,h))A(`\`Module.${h}\` was supplied but \`${h}\` not included in INCOMING_MODULE_JS_API`)}function Ih(h){return h==="FS_createPath"||h==="FS_createDataFile"||h==="FS_createPreloadedFile"||h==="FS_unlink"||h==="addRunDependency"||h==="FS_createLazyFile"||h==="FS_createDevice"||h==="removeRunDependency"}function Hh(h,J){if(typeof globalThis!="undefined"&&!Object.getOwnPropertyDescriptor(globalThis,h))Object.defineProperty(globalThis,h,{configurable:!0,get(){J();return}})}function Nh(h,J){Hh(h,()=>{y(`\`${h}\` is not longer defined by emscripten. ${J}`)})}Nh("buffer","Please use HEAP8.buffer or wasmMemory.buffer"),Nh("asm","Please use wasmExports instead");function C0(h){Hh(h,()=>{var J=`\`${h}\` is a library symbol and not included by default; add it to your library.js __deps or to DEFAULT_LIBRARY_FUNCS_TO_INCLUDE on the command line`,q=h;if(!q.startsWith("_"))q="$"+h;if(J+=` (e.g. -sDEFAULT_LIBRARY_FUNCS_TO_INCLUDE='${q}')`,Ih(h))J+=". Alternatively, forcing filesystem support (-sFORCE_FILESYSTEM) can export this for you";y(J)}),Fh(h)}function Fh(h){if(!Object.getOwnPropertyDescriptor(v,h))Object.defineProperty(v,h,{configurable:!0,get(){var J=`'${h}' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the Emscripten FAQ)`;if(Ih(h))J+=". Alternatively, forcing filesystem support (-sFORCE_FILESYSTEM) can export this for you";A(J)}})}function g1(...h){}function gh(){var h=i.buffer;v.HEAP8=a=new Int8Array(h),v.HEAP16=Xh=new Int16Array(h),v.HEAPU8=Ch=new Uint8Array(h),v.HEAPU16=dh=new Uint16Array(h),v.HEAP32=Zh=new Int32Array(h),v.HEAPU32=T=new Uint32Array(h),v.HEAPF32=Kh=new Float32Array(h),v.HEAPF64=Gh=new Float64Array(h),v.HEAP64=qh=new BigInt64Array(h),v.HEAPU64=rh=new BigUint64Array(h)}L(!v.STACK_SIZE,"STACK_SIZE can no longer be set at runtime.  Use -sSTACK_SIZE at link time"),L(typeof Int32Array!="undefined"&&typeof Float64Array!=="undefined"&&Int32Array.prototype.subarray!=null&&Int32Array.prototype.set!=null,"JS engine does not provide full typed array support"),L(!v.wasmMemory,"Use of `wasmMemory` detected.  Use -sIMPORTED_MEMORY to define wasmMemory externally"),L(!v.INITIAL_MEMORY,"Detected runtime INITIAL_MEMORY setting.  Use -sIMPORTED_MEMORY to define wasmMemory dynamically");var bh=[],Ah=[],b1=[],Th=[];function $0(){if(v.preRun){if(typeof v.preRun=="function")v.preRun=[v.preRun];while(v.preRun.length)Q0(v.preRun.shift())}fh(bh)}function j0(){L(!Lh),Lh=!0,Wh(),fh(Ah)}function J0(){if(Wh(),v.postRun){if(typeof v.postRun=="function")v.postRun=[v.postRun];while(v.postRun.length)X0(v.postRun.shift())}fh(Th)}function Q0(h){bh.unshift(h)}function Y0(h){Ah.unshift(h)}function A1(h){}function X0(h){Th.unshift(h)}var l=0,d=null,o={},t=null;function T1(h){var J=h;while(!0){if(!o[h])return h;h=J+Math.random()}}function Z0(h){if(l++,v.monitorRunDependencies?.(l),h){if(L(!o[h]),o[h]=1,t===null&&typeof setInterval!="undefined")t=setInterval(()=>{if(e){clearInterval(t),t=null;return}var J=!1;for(var q in o){if(!J)J=!0,V("still waiting on run dependencies:");V(`dependency: ${q}`)}if(J)V("(end of list)")},1e4)}else V("warning: run dependency added without ID")}function K0(h){if(l--,v.monitorRunDependencies?.(l),h)L(o[h]),delete o[h];else V("warning: run dependency removed without ID");if(l==0){if(t!==null)clearInterval(t),t=null;if(d){var J=d;d=null,J()}}}function A(h){v.onAbort?.(h),h="Aborted("+h+")",V(h),e=!0;var J=new WebAssembly.RuntimeError(h);throw D(J),J}var x={error(){A("Filesystem support (FS) was not included. The problem is that you are using files from JS, but files were not used from C/C++, so filesystem support was not auto-included. You can force-include filesystem support with -sFORCE_FILESYSTEM")},init(){x.error()},createDataFile(){x.error()},createPreloadedFile(){x.error()},createLazyFile(){x.error()},open(){x.error()},mkdev(){x.error()},registerDevice(){x.error()},analyzePath(){x.error()},ErrnoError(){x.error()}};v.FS_createDataFile=x.createDataFile,v.FS_createPreloadedFile=x.createPreloadedFile;function E(h,J){return(...q)=>{L(Lh,`native function \`${h}\` called before runtime initialization`);var U=c[h];return L(U,`exported native function \`${h}\` not found`),L(q.length<=J,`native function \`${h}\` called with ${q.length} args but expects ${J}`),U(...q)}}var r;function q0(){if(v.locateFile){var h="tinymidipcm.wasm";if(!wh(h))return H(h);return h}return new URL("tinymidipcm.wasm",import.meta.url).href}function G0(h){if(h==r&&vh)return new Uint8Array(vh);if(k)return k(h);throw"both async and sync fetching of the wasm failed"}async function L0(h){if(!vh)try{var J=await M(h);return new Uint8Array(J)}catch{}return G0(h)}async function W0(h,J){try{var q=await L0(h),U=await WebAssembly.instantiate(q,J);return U}catch(I){if(V(`failed to asynchronously prepare wasm: ${I}`),s(r))V(`warning: Loading from a file URI (${r}) is not supported in most browsers. See https://emscripten.org/docs/getting_started/FAQ.html#how-do-i-run-a-local-webserver-for-testing-why-does-my-program-stall-in-downloading-or-preparing`);A(I)}}async function f0(h,J,q){if(!h&&typeof WebAssembly.instantiateStreaming=="function"&&!wh(J)&&!s(J)&&!K)try{var U=fetch(J,{credentials:"same-origin"}),I=await WebAssembly.instantiateStreaming(U,q);return I}catch(N){V(`wasm streaming compile failed: ${N}`),V("falling back to ArrayBuffer instantiation")}return W0(J,q)}function U0(){return{env:Vh,wasi_snapshot_preview1:Vh}}async function V0(){function h(g,m){return c=g.exports,i=c.memory,L(i,"memory not found in wasm exports"),gh(),Y0(c.__wasm_call_ctors),K0("wasm-instantiate"),c}Z0("wasm-instantiate");var J=v;function q(g){return L(v===J,"the Module object should not be replaced during async compilation - perhaps the order of HTML elements is wrong?"),J=null,h(g.instance)}var U=U0();if(v.instantiateWasm)try{return v.instantiateWasm(U,h)}catch(g){V(`Module.instantiateWasm callback failed with error: ${g}`),D(g)}r??=q0();try{var I=await f0(vh,r,U),N=q(I);return N}catch(g){return D(g),Promise.reject(g)}}class yh{name="ExitStatus";constructor(h){this.message=`Program terminated with exit(${h})`,this.status=h}}var fh=(h)=>{while(h.length>0)h.shift()(v)};function k0(h,J="i8"){if(J.endsWith("*"))J="*";switch(J){case"i1":return a[h];case"i8":return a[h];case"i16":return Xh[h>>1];case"i32":return Zh[h>>2];case"i64":return qh[h>>3];case"float":return Kh[h>>2];case"double":return Gh[h>>3];case"*":return T[h>>2];default:A(`invalid type for getValue: ${J}`)}}var i0=v.noExitRuntime||!0,$h=(h)=>{return L(typeof h==="number"),h>>>=0,"0x"+h.toString(16).padStart(8,"0")};function O0(h,J,q="i8"){if(q.endsWith("*"))q="*";switch(q){case"i1":a[h]=J;break;case"i8":a[h]=J;break;case"i16":Xh[h>>1]=J;break;case"i32":Zh[h>>2]=J;break;case"i64":qh[h>>3]=BigInt(J);break;case"float":Kh[h>>2]=J;break;case"double":Gh[h>>3]=J;break;case"*":T[h>>2]=J;break;default:A(`invalid type for setValue: ${q}`)}}var R1=(h)=>j1(h),x1=()=>x0(),y=(h)=>{if(y.shown||={},!y.shown[h]){if(y.shown[h]=1,K)h="warning: "+h;V(h)}},z0=()=>A("native code called abort()"),B0=()=>2147483648,D0=(h,J)=>{return L(J,"alignment argument is required"),Math.ceil(h/J)*J},w0=(h)=>{var J=i.buffer,q=(h-J.byteLength+65535)/65536|0;try{return i.grow(q),gh(),1}catch(U){V(`growMemory: Attempted to grow heap from ${J.byteLength} bytes to ${h} bytes, but got error: ${U}`)}},I0=(h)=>{var J=Ch.length;h>>>=0,L(h>J);var q=B0();if(h>q)return V(`Cannot enlarge memory, requested ${h} bytes, but the limit is ${q} bytes!`),!1;for(var U=1;U<=4;U*=2){var I=J*(1+0.2/U);I=Math.min(I,h+100663296);var N=Math.min(q,D0(Math.max(h,I),65536)),g=w0(N);if(g)return!0}return V(`Failed to grow the heap from ${J} bytes to ${N} bytes, not enough memory!`),!1},Rh=typeof TextDecoder!="undefined"?new TextDecoder:void 0,xh=(h,J=0,q=NaN)=>{var U=J+q,I=J;while(h[I]&&!(I>=U))++I;if(I-J>16&&h.buffer&&Rh)return Rh.decode(h.subarray(J,I));var N="";while(J<I){var g=h[J++];if(!(g&128)){N+=String.fromCharCode(g);continue}var m=h[J++]&63;if((g&224)==192){N+=String.fromCharCode((g&31)<<6|m);continue}var jh=h[J++]&63;if((g&240)==224)g=(g&15)<<12|m<<6|jh;else{if((g&248)!=240)y("Invalid UTF-8 leading byte "+$h(g)+" encountered when deserializing a UTF-8 string in wasm memory to a JS string!");g=(g&7)<<18|m<<12|jh<<6|h[J++]&63}if(g<65536)N+=String.fromCharCode(g);else{var Q1=g-65536;N+=String.fromCharCode(55296|Q1>>10,56320|Q1&1023)}}return N},H0=(h,J)=>{return L(typeof h=="number",`UTF8ToString expects a number (got ${typeof h})`),h?xh(Ch,h,J):""},a0={varargs:void 0,getStr(h){var J=H0(h);return J}},N0=(h)=>{A("fd_close called without SYSCALLS_REQUIRE_FILESYSTEM")},ch=9007199254740992,nh=-9007199254740992,F0=(h)=>h<nh||h>ch?NaN:Number(h);function s0(h,J,q,U){return J=F0(J),70}var Sh=[null,[],[]],Ph=(h,J)=>{var q=Sh[h];if(L(q),J===0||J===10)(h===1?P:V)(xh(q)),q.length=0;else q.push(J)},g0=()=>{if(v1(0),Sh[1].length)Ph(1,10);if(Sh[2].length)Ph(2,10)},b0=(h,J,q,U)=>{var I=0;for(var N=0;N<q;N++){var g=T[J>>2],m=T[J+4>>2];J+=8;for(var jh=0;jh<m;jh++)Ph(h,Ch[g+jh]);I+=m}return T[U>>2]=I,0};function A0(){v0("fetchSettings")}var Vh={_abort_js:z0,emscripten_resize_heap:I0,fd_close:N0,fd_seek:s0,fd_write:b0},c=await V0(),d0=E("__wasm_call_ctors",0),r0=v._malloc=E("malloc",1),e0=v._free=E("free",1),T0=v._tsf_load_memory=E("tsf_load_memory",2),p=v._tsf_close=E("tsf_close",1),S1=v._tsf_reset=E("tsf_reset",1),P1=v._tsf_set_output=E("tsf_set_output",4),E1=v._realloc=E("realloc",2),h1=v._tsf_channel_set_bank_preset=E("tsf_channel_set_bank_preset",4),_1=v._tml_load_memory=E("tml_load_memory",2),M1=v._midi_render=E("midi_render",7),v1=E("fflush",1),C1=E("strerror",1),$1=c.emscripten_stack_init,y1=c.emscripten_stack_get_free,R0=c.emscripten_stack_get_base,lh=c.emscripten_stack_get_end,j1=c._emscripten_stack_restore,J1=c._emscripten_stack_alloc,x0=c.emscripten_stack_get_current;v.setValue=O0,v.getValue=k0;var S0=["writeI53ToI64","writeI53ToI64Clamped","writeI53ToI64Signaling","writeI53ToU64Clamped","writeI53ToU64Signaling","readI53FromI64","readI53FromU64","convertI32PairToI53","convertI32PairToI53Checked","convertU32PairToI53","stackAlloc","getTempRet0","setTempRet0","zeroMemory","exitJS","strError","inetPton4","inetNtop4","inetPton6","inetNtop6","readSockaddr","writeSockaddr","emscriptenLog","readEmAsmArgs","jstoi_q","getExecutableName","listenOnce","autoResumeAudioContext","getDynCaller","dynCall","handleException","keepRuntimeAlive","runtimeKeepalivePush","runtimeKeepalivePop","callUserCallback","maybeExit","asmjsMangle","asyncLoad","mmapAlloc","HandleAllocator","getNativeTypeSize","STACK_SIZE","STACK_ALIGN","POINTER_SIZE","ASSERTIONS","getCFunc","ccall","cwrap","uleb128Encode","sigToWasmTypes","generateFuncType","convertJsFunctionToWasm","getEmptyTableSlot","updateTableMap","getFunctionAddress","addFunction","removeFunction","reallyNegative","unSign","strLen","reSign","formatString","stringToUTF8Array","stringToUTF8","lengthBytesUTF8","intArrayFromString","intArrayToString","AsciiToString","stringToAscii","UTF16ToString","stringToUTF16","lengthBytesUTF16","UTF32ToString","stringToUTF32","lengthBytesUTF32","stringToNewUTF8","stringToUTF8OnStack","writeArrayToMemory","registerKeyEventCallback","maybeCStringToJsString","findEventTarget","getBoundingClientRect","fillMouseEventData","registerMouseEventCallback","registerWheelEventCallback","registerUiEventCallback","registerFocusEventCallback","fillDeviceOrientationEventData","registerDeviceOrientationEventCallback","fillDeviceMotionEventData","registerDeviceMotionEventCallback","screenOrientation","fillOrientationChangeEventData","registerOrientationChangeEventCallback","fillFullscreenChangeEventData","registerFullscreenChangeEventCallback","JSEvents_requestFullscreen","JSEvents_resizeCanvasForFullscreen","registerRestoreOldStyle","hideEverythingExceptGivenElement","restoreHiddenElements","setLetterbox","softFullscreenResizeWebGLRenderTarget","doRequestFullscreen","fillPointerlockChangeEventData","registerPointerlockChangeEventCallback","registerPointerlockErrorEventCallback","requestPointerLock","fillVisibilityChangeEventData","registerVisibilityChangeEventCallback","registerTouchEventCallback","fillGamepadEventData","registerGamepadEventCallback","registerBeforeUnloadEventCallback","fillBatteryEventData","battery","registerBatteryEventCallback","setCanvasElementSize","getCanvasElementSize","jsStackTrace","getCallstack","convertPCtoSourceLocation","getEnvStrings","checkWasiClock","wasiRightsToMuslOFlags","wasiOFlagsToMuslOFlags","initRandomFill","randomFill","safeSetTimeout","setImmediateWrapped","safeRequestAnimationFrame","clearImmediateWrapped","registerPostMainLoop","registerPreMainLoop","getPromise","makePromise","idsToPromises","makePromiseCallback","ExceptionInfo","findMatchingCatch","Browser_asyncPrepareDataCounter","isLeapYear","ydayFromDate","arraySum","addDays","getSocketFromFD","getSocketAddress","FS_createPreloadedFile","FS_modeStringToFlags","FS_getMode","FS_stdin_getChar","FS_unlink","FS_createDataFile","FS_mkdirTree","_setNetworkCallback","heapObjectForWebGLType","toTypedArrayIndex","webgl_enable_ANGLE_instanced_arrays","webgl_enable_OES_vertex_array_object","webgl_enable_WEBGL_draw_buffers","webgl_enable_WEBGL_multi_draw","webgl_enable_EXT_polygon_offset_clamp","webgl_enable_EXT_clip_control","webgl_enable_WEBGL_polygon_mode","emscriptenWebGLGet","computeUnpackAlignedImageSize","colorChannelsInGlTextureFormat","emscriptenWebGLGetTexPixelData","emscriptenWebGLGetUniform","webglGetUniformLocation","webglPrepareUniformLocationsBeforeFirstUse","webglGetLeftBracePos","emscriptenWebGLGetVertexAttrib","__glGetActiveAttribOrUniform","writeGLArray","registerWebGlEventCallback","runAndAbortIfError","ALLOC_NORMAL","ALLOC_STACK","allocate","writeStringToMemory","writeAsciiToMemory","setErrNo","demangle","stackTrace"];S0.forEach(C0);var th=["run","addOnPreRun","addOnInit","addOnPreMain","addOnExit","addOnPostRun","addRunDependency","removeRunDependency","out","err","callMain","abort","wasmMemory","wasmExports","writeStackCookie","checkStackCookie","INT53_MAX","INT53_MIN","bigintToI53Checked","stackSave","stackRestore","ptrToString","getHeapMax","growMemory","ENV","ERRNO_CODES","DNS","Protocols","Sockets","timers","warnOnce","readEmAsmArgsArray","jstoi_s","alignMemory","wasmTable","noExitRuntime","freeTableIndexes","functionsInTableMap","PATH","PATH_FS","UTF8Decoder","UTF8ArrayToString","UTF8ToString","UTF16Decoder","JSEvents","specialHTMLTargets","findCanvasEventTarget","currentFullscreenStrategy","restoreOldWindowedStyle","UNWIND_CACHE","ExitStatus","flush_NO_FILESYSTEM","emSetImmediate","emClearImmediate_deps","emClearImmediate","promiseMap","uncaughtExceptionCount","exceptionLast","exceptionCaught","Browser","getPreloadedImageData__data","wget","MONTH_DAYS_REGULAR","MONTH_DAYS_LEAP","MONTH_DAYS_REGULAR_CUMULATIVE","MONTH_DAYS_LEAP_CUMULATIVE","SYSCALLS","preloadPlugins","FS_stdin_getChar_buffer","FS_createPath","FS_createDevice","FS_readFile","FS","FS_createLazyFile","MEMFS","TTY","PIPEFS","SOCKFS","tempFixedLengthArray","miniTempWebGLFloatBuffers","miniTempWebGLIntBuffers","GL","AL","GLUT","EGL","GLEW","IDBStore","SDL","SDL_gfx","allocateUTF8","allocateUTF8OnStack","print","printErr"];th.forEach(Fh);var mh;function Eh(){$1(),h0()}function _h(){if(l>0){d=_h;return}if(Eh(),$0(),l>0){d=_h;return}function h(){if(L(!mh),mh=!0,v.calledRun=!0,e)return;j0(),f(v),v.onRuntimeInitialized?.(),L(!v._main,'compiled without a main, but one is present. if you added it from JS, use Module["onRuntimeInitialized"]'),J0()}if(v.setStatus)v.setStatus("Running..."),setTimeout(()=>{setTimeout(()=>v.setStatus(""),1),h()},1);else h();Wh()}function C(){var h=P,J=V,q=!1;P=V=(U)=>{q=!0};try{g0()}catch(U){}if(P=h,V=J,q)y("stdio streams had content in them that was not flushed. you should set EXIT_RUNTIME to 1 (see the Emscripten FAQ), or make sure to emit a newline when you printf etc."),y("(this may also be due to not including full filesystem support - try building with -sFORCE_FILESYSTEM)")}if(v.preInit){if(typeof v.preInit=="function")v.preInit=[v.preInit];while(v.preInit.length>0)v.preInit.pop()()}_h(),j=Y;for(let h of Object.keys(v))if(!(h in X))Object.defineProperty(X,h,{configurable:!0,get(){A(`Access to module property ('${h}') is no longer possible via the module constructor argument; Instead, use the result of the module constructor.`)}});return j}})();(()=>{var $=p0;p0=function(X){if(new.target)throw new Error("loadTinyMidiPCM() should not be called with `new loadTinyMidiPCM()`");return $(X)}})();var D1=p0;class w1{constructor($={}){if(this.wasmModule=void 0,this.soundfontBufferPtr=0,this.soundfontPtr=0,this.midiBufferPtr=0,this.renderInterval=$.renderInterval||100,this.sampleRate=$.sampleRate||44100,this.channels=$.channels||2,this.gain=$.gain||0,!$.bufferSize)this.setBufferDuration(1);else this.bufferSize=$.bufferSize;this.onPCMData=$.onPCMData||(()=>{}),this.onRenderEnd=$.onRenderEnd||(()=>{}),this.renderTimer=void 0,this.test=0}async init(){if(this.wasmModule)return;this.wasmModule=await D1(),this.pcmBufferPtr=this.wasmModule._malloc(this.bufferSize),this.msecsPtr=this.wasmModule._malloc(8)}setBufferDuration($){this.bufferSize=4*this.sampleRate*this.channels*$}ensureInitialized(){if(!this.wasmModule)throw new Error(`${this.constructor.name} not initalized. call .init()`)}setSoundfont($){this.ensureInitialized();let{_malloc:X,_free:j,_tsf_load_memory:v,_tsf_set_output:f}=this.wasmModule;j(this.soundfontBufferPtr),this.soundfontBufferPtr=X($.length),this.wasmModule.HEAPU8.set($,this.soundfontBufferPtr),this.soundfontPtr=v(this.soundfontBufferPtr,$.length),f(this.soundfontPtr,this.channels===2?0:2,this.sampleRate,this.gain)}getPCMBuffer(){this.ensureInitialized();let $=new Uint8Array(this.bufferSize);return $.set(this.wasmModule.HEAPU8.subarray(this.pcmBufferPtr,this.pcmBufferPtr+this.bufferSize)),$}getMIDIMessagePtr($){let{_malloc:X,_free:j,_tml_load_memory:v}=this.wasmModule;return j(this.midiBufferPtr),this.midiBufferPtr=X($.length),this.wasmModule.HEAPU8.set($,this.midiBufferPtr),v(this.midiBufferPtr,$.length)}renderMIDIMessage($){let{_midi_render:X}=this.wasmModule;return X(this.soundfontPtr,$,this.channels,this.sampleRate,this.pcmBufferPtr,this.bufferSize,this.msecsPtr)}render($){if(this.ensureInitialized(),!this.soundfontPtr)throw new Error("no soundfont buffer set. call .setSoundfont");window.clearTimeout(this.renderTimer);let{setValue:X,getValue:j,_tsf_reset:v,_tsf_channel_set_bank_preset:f}=this.wasmModule;X(this.msecsPtr,0,"double"),v(this.soundfontPtr),f(this.soundfontPtr,9,128,0);let D=this.getMIDIMessagePtr($),Y=function(){D=this.renderMIDIMessage(D);let Q=this.getPCMBuffer();if(this.onPCMData(Q),D)this.renderTimer=setTimeout(Y,this.renderInterval);else this.onRenderEnd(j(this.msecsPtr,"double"))}.bind(this);this.renderTimer=setTimeout(()=>{Y()},16)}}(async()=>{let D=null,Y=null,Q=new Float32Array,Z=window.audioContext.createGain();Z.gain.setValueAtTime(0.1,window.audioContext.currentTime),Z.connect(window.audioContext.destination);let K=window.audioContext.currentTime,z=[],G=new w1({renderInterval:30,onPCMData:(O)=>{let F=new Float32Array(O.buffer),R=new Float32Array(Q.length+F.length);R.set(Q,0),R.set(F,Q.length),Q=R},onRenderEnd:(O)=>{},bufferSize:102400});await G.init();let B=await fetch(new URL("SCC1_Florestan.sf2",import.meta.url)),W=new Uint8Array(await B.arrayBuffer());G.setSoundfont(W);function b(){if(!window.audioContext||!Q.length)return;let O=window.audioContext.createBufferSource(),F=Q.length/2,R=window.audioContext.createBuffer(2,F,44100);for(let S=0;S<2;S++){let hh=R.getChannelData(S),P=S;for(let V=0;V<F;V++)hh[V]=Q[P],P+=2}if(K<window.audioContext.currentTime)K=window.audioContext.currentTime;O.buffer=R,O.connect(Z),O.start(K),z.push(O),K+=R.duration,Q=new Float32Array}let w;function H(O){let F=window.audioContext.currentTime;return Z.gain.cancelScheduledValues(F),Z.gain.setTargetAtTime(0,F,0.5),setTimeout(O,2000)}function M(){if(w)clearInterval(w);if(Q=new Float32Array,z.length){let O=Z.gain.value;Z.gain.setValueAtTime(0,window.audioContext.currentTime),z.forEach((F)=>{F.stop(window.audioContext.currentTime)}),z=[],Z.gain.setValueAtTime(O,window.audioContext.currentTime)}}function k(O,F){if(O!==-1)window._tinyMidiVolume(O);K=window.audioContext.currentTime,w=setInterval(b,250),G.render(F)}window._tinyMidiStop=async(O)=>{if(O)Y=H(()=>{M()});else M(),clearTimeout(D),clearTimeout(Y)},window._tinyMidiVolume=(O=1)=>{Z.gain.setValueAtTime(O,window.audioContext.currentTime)},window._tinyMidiPlay=async(O,F,R)=>{if(!O)return;if(await window._tinyMidiStop(R),R)D=setTimeout(()=>{k(F,O)},2000);else k(F,O)}})();function Hv($,X,j){if(window._tinyMidiPlay)window._tinyMidiPlay($,X/128,j)}function Nv($){if(window._tinyMidiVolume)window._tinyMidiVolume($/128)}function Fv($){if(window._tinyMidiStop)window._tinyMidiStop($)}var u0=(()=>{var $=import.meta.url;return async function(X={}){var j,v=X,f,D,Y=new Promise((C,h)=>{f=C,D=h}),Q=typeof window=="object",Z=typeof WorkerGlobalScope!="undefined",K=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string"&&process.type!="renderer",z=!Q&&!K&&!Z,G=Object.assign({},v),B=[],W="./this.program",b=(C,h)=>{throw h},w="";function H(C){if(v.locateFile)return v.locateFile(C,w);return w+C}var M,k;if(K){if(typeof process=="undefined"||!process.release||process.release.name!=="node")throw new Error("not compiled for this environment (did you build to HTML and try to run it not on the web, or set ENVIRONMENT to something - like node - and run it someplace else - like on the web?)");var O=process.versions.node,F=O.split(".").slice(0,3);F=F[0]*1e4+F[1]*100+F[2].split("-")[0]*1;var R=160000;if(F<160000)throw new Error("This emscripten-generated code requires node v16.0.0 (detected v"+O+")");var S=(()=>({})),hh=(M0(),oh(_0));if(!import.meta.url.startsWith("data:"))w=hh.dirname((o0(),oh(m0)).fileURLToPath(import.meta.url))+"/";if(k=(C)=>{C=s(C)?new URL(C):C;var h=S.readFileSync(C);return L(Buffer.isBuffer(h)),h},M=async(C,h=!0)=>{C=s(C)?new URL(C):C;var J=S.readFileSync(C,h?void 0:"utf8");return L(h?Buffer.isBuffer(J):typeof J=="string"),J},!v.thisProgram&&process.argv.length>1)W=process.argv[1].replace(/\\/g,"/");B=process.argv.slice(2),b=(C,h)=>{throw process.exitCode=C,h}}else if(z){if(typeof process=="object"&&!0||typeof window=="object"||typeof WorkerGlobalScope!="undefined")throw new Error("not compiled for this environment (did you build to HTML and try to run it not on the web, or set ENVIRONMENT to something - like node - and run it someplace else - like on the web?)")}else if(Q||Z){if(Z)w=self.location.href;else if(typeof document!="undefined"&&document.currentScript)w=document.currentScript.src;if($)w=$;if(w.startsWith("blob:"))w="";else w=w.substr(0,w.replace(/[?#].*/,"").lastIndexOf("/")+1);if(!(typeof window=="object"||typeof WorkerGlobalScope!="undefined"))throw new Error("not compiled for this environment (did you build to HTML and try to run it not on the web, or set ENVIRONMENT to something - like node - and run it someplace else - like on the web?)");{if(Z)k=(C)=>{var h=new XMLHttpRequest;return h.open("GET",C,!1),h.responseType="arraybuffer",h.send(null),new Uint8Array(h.response)};M=async(C)=>{if(s(C))return new Promise((J,q)=>{var U=new XMLHttpRequest;U.open("GET",C,!0),U.responseType="arraybuffer",U.onload=()=>{if(U.status==200||U.status==0&&U.response){J(U.response);return}q(U.status)},U.onerror=q,U.send(null)});var h=await fetch(C,{credentials:"same-origin"});if(h.ok)return h.arrayBuffer();throw new Error(h.status+" : "+h.url)}}}else throw new Error("environment detection error");var P=v.print||void 0,V=v.printErr||void 0;if(Object.assign(v,G),G=null,e0(),v.arguments)B=v.arguments;if(n("arguments","arguments_"),v.thisProgram)W=v.thisProgram;n("thisProgram","thisProgram"),L(typeof v.memoryInitializerPrefixURL=="undefined","Module.memoryInitializerPrefixURL option was removed, use Module.locateFile instead"),L(typeof v.pthreadMainPrefixURL=="undefined","Module.pthreadMainPrefixURL option was removed, use Module.locateFile instead"),L(typeof v.cdInitializerPrefixURL=="undefined","Module.cdInitializerPrefixURL option was removed, use Module.locateFile instead"),L(typeof v.filePackagePrefixURL=="undefined","Module.filePackagePrefixURL option was removed, use Module.locateFile instead"),L(typeof v.read=="undefined","Module.read option was removed"),L(typeof v.readAsync=="undefined","Module.readAsync option was removed (modify readAsync in JS)"),L(typeof v.readBinary=="undefined","Module.readBinary option was removed (modify readBinary in JS)"),L(typeof v.setWindowTitle=="undefined","Module.setWindowTitle option was removed (modify emscripten_set_window_title in JS)"),L(typeof v.TOTAL_MEMORY=="undefined","Module.TOTAL_MEMORY has been renamed Module.INITIAL_MEMORY"),n("asm","wasmExports"),n("readAsync","readAsync"),n("readBinary","readBinary"),n("setWindowTitle","setWindowTitle");var Jh="IDBFS is no longer included by default; build with -lidbfs.js",zh="PROXYFS is no longer included by default; build with -lproxyfs.js",ih="WORKERFS is no longer included by default; build with -lworkerfs.js",Yh="FETCHFS is no longer included by default; build with -lfetchfs.js",Bh="ICASEFS is no longer included by default; build with -licasefs.js",Dh="JSFILEFS is no longer included by default; build with -ljsfilefs.js",Uh="OPFS is no longer included by default; build with -lopfs.js",ah="NODEFS is no longer included by default; build with -lnodefs.js";L(!z,"shell environment detected but not enabled at build time.  Add `shell` to `-sENVIRONMENT` to enable.");var vh=v.wasmBinary;if(n("wasmBinary","wasmBinary"),typeof WebAssembly!="object")V("no native wasm support detected");var i,e=!1,sh;function L(C,h){if(!C)A("Assertion failed"+(h?": "+h:""))}var F1,a,Ch,Xh,dh,Zh,T,Kh,qh,rh,Gh,Lh=!1,eh="data:application/octet-stream;base64,",wh=(C)=>C.startsWith(eh),s=(C)=>C.startsWith("file://");function h0(){var C=R0();if(L((C&3)==0),C==0)C+=4;T[C>>2]=34821223,T[C+4>>2]=2310721022,T[0]=1668509029}function Wh(){if(e)return;var C=R0();if(C==0)C+=4;var h=T[C>>2],J=T[C+4>>2];if(h!=34821223||J!=2310721022)A(`Stack overflow! Stack cookie has been overwritten at ${$h(C)}, expected hex dwords 0x89BACDFE and 0x2135467, but received ${$h(J)} ${$h(h)}`);if(T[0]!=1668509029)A("Runtime error: The application has corrupted its heap memory area (address zero)!")}if((()=>{var C=new Int16Array(1),h=new Int8Array(C.buffer);if(C[0]=25459,h[0]!==115||h[1]!==99)throw"Runtime error: expected the system to be little-endian! (Run with -sSUPPORT_BIG_ENDIAN to bypass)"})(),v.ENVIRONMENT)throw new Error("Module.ENVIRONMENT has been deprecated. To force the environment, use the ENVIRONMENT compile-time option (for example, -sENVIRONMENT=web or -sENVIRONMENT=node)");function n(C,h,J=!0){if(!Object.getOwnPropertyDescriptor(v,C))Object.defineProperty(v,C,{configurable:!0,get(){let q=J?" (the initial value can be provided on Module, but after startup the value is only looked for on a local variable of that name)":"";A(`\`Module.${C}\` has been replaced by \`${h}\``+q)}})}function v0(C){if(Object.getOwnPropertyDescriptor(v,C))A(`\`Module.${C}\` was supplied but \`${C}\` not included in INCOMING_MODULE_JS_API`)}function Ih(C){return C==="FS_createPath"||C==="FS_createDataFile"||C==="FS_createPreloadedFile"||C==="FS_unlink"||C==="addRunDependency"||C==="FS_createLazyFile"||C==="FS_createDevice"||C==="removeRunDependency"}function Hh(C,h){if(typeof globalThis!="undefined"&&!Object.getOwnPropertyDescriptor(globalThis,C))Object.defineProperty(globalThis,C,{configurable:!0,get(){h();return}})}function Nh(C,h){Hh(C,()=>{y(`\`${C}\` is not longer defined by emscripten. ${h}`)})}Nh("buffer","Please use HEAP8.buffer or wasmMemory.buffer"),Nh("asm","Please use wasmExports instead");function C0(C){Hh(C,()=>{var h=`\`${C}\` is a library symbol and not included by default; add it to your library.js __deps or to DEFAULT_LIBRARY_FUNCS_TO_INCLUDE on the command line`,J=C;if(!J.startsWith("_"))J="$"+C;if(h+=` (e.g. -sDEFAULT_LIBRARY_FUNCS_TO_INCLUDE='${J}')`,Ih(C))h+=". Alternatively, forcing filesystem support (-sFORCE_FILESYSTEM) can export this for you";y(h)}),Fh(C)}function Fh(C){if(!Object.getOwnPropertyDescriptor(v,C))Object.defineProperty(v,C,{configurable:!0,get(){var h=`'${C}' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the Emscripten FAQ)`;if(Ih(C))h+=". Alternatively, forcing filesystem support (-sFORCE_FILESYSTEM) can export this for you";A(h)}})}function g1(...C){}function gh(){var C=i.buffer;v.HEAP8=a=new Int8Array(C),v.HEAP16=Xh=new Int16Array(C),v.HEAPU8=Ch=new Uint8Array(C),v.HEAPU16=dh=new Uint16Array(C),v.HEAP32=Zh=new Int32Array(C),v.HEAPU32=T=new Uint32Array(C),v.HEAPF32=Kh=new Float32Array(C),v.HEAPF64=Gh=new Float64Array(C),v.HEAP64=qh=new BigInt64Array(C),v.HEAPU64=rh=new BigUint64Array(C)}L(!v.STACK_SIZE,"STACK_SIZE can no longer be set at runtime.  Use -sSTACK_SIZE at link time"),L(typeof Int32Array!="undefined"&&typeof Float64Array!=="undefined"&&Int32Array.prototype.subarray!=null&&Int32Array.prototype.set!=null,"JS engine does not provide full typed array support"),L(!v.wasmMemory,"Use of `wasmMemory` detected.  Use -sIMPORTED_MEMORY to define wasmMemory externally"),L(!v.INITIAL_MEMORY,"Detected runtime INITIAL_MEMORY setting.  Use -sIMPORTED_MEMORY to define wasmMemory dynamically");var bh=[],Ah=[],b1=[],Th=[];function $0(){if(v.preRun){if(typeof v.preRun=="function")v.preRun=[v.preRun];while(v.preRun.length)Q0(v.preRun.shift())}fh(bh)}function j0(){L(!Lh),Lh=!0,Wh(),fh(Ah)}function J0(){if(Wh(),v.postRun){if(typeof v.postRun=="function")v.postRun=[v.postRun];while(v.postRun.length)X0(v.postRun.shift())}fh(Th)}function Q0(C){bh.unshift(C)}function Y0(C){Ah.unshift(C)}function A1(C){}function X0(C){Th.unshift(C)}var l=0,d=null,o={},t=null;function T1(C){var h=C;while(!0){if(!o[C])return C;C=h+Math.random()}}function Z0(C){if(l++,v.monitorRunDependencies?.(l),C){if(L(!o[C]),o[C]=1,t===null&&typeof setInterval!="undefined")t=setInterval(()=>{if(e){clearInterval(t),t=null;return}var h=!1;for(var J in o){if(!h)h=!0,V("still waiting on run dependencies:");V(`dependency: ${J}`)}if(h)V("(end of list)")},1e4)}else V("warning: run dependency added without ID")}function K0(C){if(l--,v.monitorRunDependencies?.(l),C)L(o[C]),delete o[C];else V("warning: run dependency removed without ID");if(l==0){if(t!==null)clearInterval(t),t=null;if(d){var h=d;d=null,h()}}}function A(C){v.onAbort?.(C),C="Aborted("+C+")",V(C),e=!0;var h=new WebAssembly.RuntimeError(C);throw D(h),h}var x={error(){A("Filesystem support (FS) was not included. The problem is that you are using files from JS, but files were not used from C/C++, so filesystem support was not auto-included. You can force-include filesystem support with -sFORCE_FILESYSTEM")},init(){x.error()},createDataFile(){x.error()},createPreloadedFile(){x.error()},createLazyFile(){x.error()},open(){x.error()},mkdev(){x.error()},registerDevice(){x.error()},analyzePath(){x.error()},ErrnoError(){x.error()}};v.FS_createDataFile=x.createDataFile,v.FS_createPreloadedFile=x.createPreloadedFile;function E(C,h){return(...J)=>{L(Lh,`native function \`${C}\` called before runtime initialization`);var q=p[C];return L(q,`exported native function \`${C}\` not found`),L(J.length<=h,`native function \`${C}\` called with ${J.length} args but expects ${h}`),q(...J)}}var r;function q0(){if(v.locateFile){var C="bzip2.wasm";if(!wh(C))return H(C);return C}return new URL("bzip2.wasm",import.meta.url).href}function G0(C){if(C==r&&vh)return new Uint8Array(vh);if(k)return k(C);throw"both async and sync fetching of the wasm failed"}async function L0(C){if(!vh)try{var h=await M(C);return new Uint8Array(h)}catch{}return G0(C)}async function W0(C,h){try{var J=await L0(C),q=await WebAssembly.instantiate(J,h);return q}catch(U){if(V(`failed to asynchronously prepare wasm: ${U}`),s(r))V(`warning: Loading from a file URI (${r}) is not supported in most browsers. See https://emscripten.org/docs/getting_started/FAQ.html#how-do-i-run-a-local-webserver-for-testing-why-does-my-program-stall-in-downloading-or-preparing`);A(U)}}async function f0(C,h,J){if(!C&&typeof WebAssembly.instantiateStreaming=="function"&&!wh(h)&&!s(h)&&!K)try{var q=fetch(h,{credentials:"same-origin"}),U=await WebAssembly.instantiateStreaming(q,J);return U}catch(I){V(`wasm streaming compile failed: ${I}`),V("falling back to ArrayBuffer instantiation")}return W0(h,J)}function U0(){return{env:T0,wasi_snapshot_preview1:T0}}async function V0(){function C(N,g){return p=N.exports,i=p.memory,L(i,"memory not found in wasm exports"),gh(),Y0(p.__wasm_call_ctors),K0("wasm-instantiate"),p}Z0("wasm-instantiate");var h=v;function J(N){return L(v===h,"the Module object should not be replaced during async compilation - perhaps the order of HTML elements is wrong?"),h=null,C(N.instance)}var q=U0();if(v.instantiateWasm)try{return v.instantiateWasm(q,C)}catch(N){V(`Module.instantiateWasm callback failed with error: ${N}`),D(N)}r??=q0();try{var U=await f0(vh,r,q),I=J(U);return I}catch(N){return D(N),Promise.reject(N)}}class yh{name="ExitStatus";constructor(C){this.message=`Program terminated with exit(${C})`,this.status=C}}var fh=(C)=>{while(C.length>0)C.shift()(v)};function k0(C,h="i8"){if(h.endsWith("*"))h="*";switch(h){case"i1":return a[C];case"i8":return a[C];case"i16":return Xh[C>>1];case"i32":return Zh[C>>2];case"i64":return qh[C>>3];case"float":return Kh[C>>2];case"double":return Gh[C>>3];case"*":return T[C>>2];default:A(`invalid type for getValue: ${h}`)}}var i0=v.noExitRuntime||!0,$h=(C)=>{return L(typeof C==="number"),C>>>=0,"0x"+C.toString(16).padStart(8,"0")};function O0(C,h,J="i8"){if(J.endsWith("*"))J="*";switch(J){case"i1":a[C]=h;break;case"i8":a[C]=h;break;case"i16":Xh[C>>1]=h;break;case"i32":Zh[C>>2]=h;break;case"i64":qh[C>>3]=BigInt(h);break;case"float":Kh[C>>2]=h;break;case"double":Gh[C>>3]=h;break;case"*":T[C>>2]=h;break;default:A(`invalid type for setValue: ${J}`)}}var R1=(C)=>lh(C),x1=()=>J1(),y=(C)=>{if(y.shown||={},!y.shown[C]){if(y.shown[C]=1,K)C="warning: "+C;V(C)}},z0=()=>A("native code called abort()"),B0=()=>2147483648,D0=(C,h)=>{return L(h,"alignment argument is required"),Math.ceil(C/h)*h},w0=(C)=>{var h=i.buffer,J=(C-h.byteLength+65535)/65536|0;try{return i.grow(J),gh(),1}catch(q){V(`growMemory: Attempted to grow heap from ${h.byteLength} bytes to ${C} bytes, but got error: ${q}`)}},I0=(C)=>{var h=Ch.length;C>>>=0,L(C>h);var J=B0();if(C>J)return V(`Cannot enlarge memory, requested ${C} bytes, but the limit is ${J} bytes!`),!1;for(var q=1;q<=4;q*=2){var U=h*(1+0.2/q);U=Math.min(U,C+100663296);var I=Math.min(J,D0(Math.max(C,U),65536)),N=w0(I);if(N)return!0}return V(`Failed to grow the heap from ${h} bytes to ${I} bytes, not enough memory!`),!1},Rh=0,xh=()=>i0||Rh>0,H0=(C)=>{if(sh=C,!xh())v.onExit?.(C),e=!0;b(C,new yh(C))},a0=(C,h)=>{if(sh=C,_h(),xh()&&!h){var J=`program exited (with status: ${C}), but keepRuntimeAlive() is set (counter=${Rh}) due to an async operation, so halting execution but not exiting the runtime or preventing further async execution (you can use emscripten_force_exit, if you want to force a true shutdown)`;D(J),V(J)}H0(C)},N0=a0,ch=typeof TextDecoder!="undefined"?new TextDecoder:void 0,nh=(C,h=0,J=NaN)=>{var q=h+J,U=h;while(C[U]&&!(U>=q))++U;if(U-h>16&&C.buffer&&ch)return ch.decode(C.subarray(h,U));var I="";while(h<U){var N=C[h++];if(!(N&128)){I+=String.fromCharCode(N);continue}var g=C[h++]&63;if((N&224)==192){I+=String.fromCharCode((N&31)<<6|g);continue}var m=C[h++]&63;if((N&240)==224)N=(N&15)<<12|g<<6|m;else{if((N&248)!=240)y("Invalid UTF-8 leading byte "+$h(N)+" encountered when deserializing a UTF-8 string in wasm memory to a JS string!");N=(N&7)<<18|g<<12|m<<6|C[h++]&63}if(N<65536)I+=String.fromCharCode(N);else{var jh=N-65536;I+=String.fromCharCode(55296|jh>>10,56320|jh&1023)}}return I},F0=(C,h)=>{return L(typeof C=="number",`UTF8ToString expects a number (got ${typeof C})`),C?nh(Ch,C,h):""},s0={varargs:void 0,getStr(C){var h=F0(C);return h}},Sh=(C)=>{A("fd_close called without SYSCALLS_REQUIRE_FILESYSTEM")},Ph=9007199254740992,g0=-9007199254740992,b0=(C)=>C<g0||C>Ph?NaN:Number(C);function A0(C,h,J,q){return h=b0(h),70}var Vh=[null,[],[]],c=(C,h)=>{var J=Vh[C];if(L(J),h===0||h===10)(C===1?P:V)(nh(J)),J.length=0;else J.push(h)},d0=()=>{if(h1(0),Vh[1].length)c(1,10);if(Vh[2].length)c(2,10)},r0=(C,h,J,q)=>{var U=0;for(var I=0;I<J;I++){var N=T[h>>2],g=T[h+4>>2];h+=8;for(var m=0;m<g;m++)c(C,Ch[N+m]);U+=g}return T[q>>2]=U,0};function e0(){v0("fetchSettings")}var T0={_abort_js:z0,emscripten_resize_heap:I0,exit:N0,fd_close:Sh,fd_seek:A0,fd_write:r0},p=await V0(),S1=E("__wasm_call_ctors",0),P1=v._malloc=E("malloc",1),E1=v._free=E("free",1),h1=E("fflush",1),_1=v._BZ2_bzBuffToBuffCompress=E("BZ2_bzBuffToBuffCompress",7),M1=v._BZ2_bzBuffToBuffDecompress=E("BZ2_bzBuffToBuffDecompress",6),v1=E("strerror",1),C1=p.emscripten_stack_init,$1=p.emscripten_stack_get_free,y1=p.emscripten_stack_get_base,R0=p.emscripten_stack_get_end,lh=p._emscripten_stack_restore,j1=p._emscripten_stack_alloc,J1=p.emscripten_stack_get_current;v.setValue=O0,v.getValue=k0;var x0=["writeI53ToI64","writeI53ToI64Clamped","writeI53ToI64Signaling","writeI53ToU64Clamped","writeI53ToU64Signaling","readI53FromI64","readI53FromU64","convertI32PairToI53","convertI32PairToI53Checked","convertU32PairToI53","stackAlloc","getTempRet0","setTempRet0","zeroMemory","strError","inetPton4","inetNtop4","inetPton6","inetNtop6","readSockaddr","writeSockaddr","emscriptenLog","readEmAsmArgs","jstoi_q","getExecutableName","listenOnce","autoResumeAudioContext","getDynCaller","dynCall","handleException","runtimeKeepalivePush","runtimeKeepalivePop","callUserCallback","maybeExit","asmjsMangle","asyncLoad","mmapAlloc","HandleAllocator","getNativeTypeSize","STACK_SIZE","STACK_ALIGN","POINTER_SIZE","ASSERTIONS","getCFunc","ccall","cwrap","uleb128Encode","sigToWasmTypes","generateFuncType","convertJsFunctionToWasm","getEmptyTableSlot","updateTableMap","getFunctionAddress","addFunction","removeFunction","reallyNegative","unSign","strLen","reSign","formatString","stringToUTF8Array","stringToUTF8","lengthBytesUTF8","intArrayFromString","intArrayToString","AsciiToString","stringToAscii","UTF16ToString","stringToUTF16","lengthBytesUTF16","UTF32ToString","stringToUTF32","lengthBytesUTF32","stringToNewUTF8","stringToUTF8OnStack","writeArrayToMemory","registerKeyEventCallback","maybeCStringToJsString","findEventTarget","getBoundingClientRect","fillMouseEventData","registerMouseEventCallback","registerWheelEventCallback","registerUiEventCallback","registerFocusEventCallback","fillDeviceOrientationEventData","registerDeviceOrientationEventCallback","fillDeviceMotionEventData","registerDeviceMotionEventCallback","screenOrientation","fillOrientationChangeEventData","registerOrientationChangeEventCallback","fillFullscreenChangeEventData","registerFullscreenChangeEventCallback","JSEvents_requestFullscreen","JSEvents_resizeCanvasForFullscreen","registerRestoreOldStyle","hideEverythingExceptGivenElement","restoreHiddenElements","setLetterbox","softFullscreenResizeWebGLRenderTarget","doRequestFullscreen","fillPointerlockChangeEventData","registerPointerlockChangeEventCallback","registerPointerlockErrorEventCallback","requestPointerLock","fillVisibilityChangeEventData","registerVisibilityChangeEventCallback","registerTouchEventCallback","fillGamepadEventData","registerGamepadEventCallback","registerBeforeUnloadEventCallback","fillBatteryEventData","battery","registerBatteryEventCallback","setCanvasElementSize","getCanvasElementSize","jsStackTrace","getCallstack","convertPCtoSourceLocation","getEnvStrings","checkWasiClock","wasiRightsToMuslOFlags","wasiOFlagsToMuslOFlags","initRandomFill","randomFill","safeSetTimeout","setImmediateWrapped","safeRequestAnimationFrame","clearImmediateWrapped","registerPostMainLoop","registerPreMainLoop","getPromise","makePromise","idsToPromises","makePromiseCallback","ExceptionInfo","findMatchingCatch","Browser_asyncPrepareDataCounter","isLeapYear","ydayFromDate","arraySum","addDays","getSocketFromFD","getSocketAddress","FS_createPreloadedFile","FS_modeStringToFlags","FS_getMode","FS_stdin_getChar","FS_unlink","FS_createDataFile","FS_mkdirTree","_setNetworkCallback","heapObjectForWebGLType","toTypedArrayIndex","webgl_enable_ANGLE_instanced_arrays","webgl_enable_OES_vertex_array_object","webgl_enable_WEBGL_draw_buffers","webgl_enable_WEBGL_multi_draw","webgl_enable_EXT_polygon_offset_clamp","webgl_enable_EXT_clip_control","webgl_enable_WEBGL_polygon_mode","emscriptenWebGLGet","computeUnpackAlignedImageSize","colorChannelsInGlTextureFormat","emscriptenWebGLGetTexPixelData","emscriptenWebGLGetUniform","webglGetUniformLocation","webglPrepareUniformLocationsBeforeFirstUse","webglGetLeftBracePos","emscriptenWebGLGetVertexAttrib","__glGetActiveAttribOrUniform","writeGLArray","registerWebGlEventCallback","runAndAbortIfError","ALLOC_NORMAL","ALLOC_STACK","allocate","writeStringToMemory","writeAsciiToMemory","setErrNo","demangle","stackTrace"];x0.forEach(C0);var S0=["run","addOnPreRun","addOnInit","addOnPreMain","addOnExit","addOnPostRun","addRunDependency","removeRunDependency","out","err","callMain","abort","wasmMemory","wasmExports","writeStackCookie","checkStackCookie","INT53_MAX","INT53_MIN","bigintToI53Checked","stackSave","stackRestore","ptrToString","exitJS","getHeapMax","growMemory","ENV","ERRNO_CODES","DNS","Protocols","Sockets","timers","warnOnce","readEmAsmArgsArray","jstoi_s","keepRuntimeAlive","alignMemory","wasmTable","noExitRuntime","freeTableIndexes","functionsInTableMap","PATH","PATH_FS","UTF8Decoder","UTF8ArrayToString","UTF8ToString","UTF16Decoder","JSEvents","specialHTMLTargets","findCanvasEventTarget","currentFullscreenStrategy","restoreOldWindowedStyle","UNWIND_CACHE","ExitStatus","flush_NO_FILESYSTEM","emSetImmediate","emClearImmediate_deps","emClearImmediate","promiseMap","uncaughtExceptionCount","exceptionLast","exceptionCaught","Browser","getPreloadedImageData__data","wget","MONTH_DAYS_REGULAR","MONTH_DAYS_LEAP","MONTH_DAYS_REGULAR_CUMULATIVE","MONTH_DAYS_LEAP_CUMULATIVE","SYSCALLS","preloadPlugins","FS_stdin_getChar_buffer","FS_createPath","FS_createDevice","FS_readFile","FS","FS_createLazyFile","MEMFS","TTY","PIPEFS","SOCKFS","tempFixedLengthArray","miniTempWebGLFloatBuffers","miniTempWebGLIntBuffers","GL","AL","GLUT","EGL","GLEW","IDBStore","SDL","SDL_gfx","allocateUTF8","allocateUTF8OnStack","print","printErr"];S0.forEach(Fh);var th;function mh(){C1(),h0()}function Eh(){if(l>0){d=Eh;return}if(mh(),$0(),l>0){d=Eh;return}function C(){if(L(!th),th=!0,v.calledRun=!0,e)return;j0(),f(v),v.onRuntimeInitialized?.(),L(!v._main,'compiled without a main, but one is present. if you added it from JS, use Module["onRuntimeInitialized"]'),J0()}if(v.setStatus)v.setStatus("Running..."),setTimeout(()=>{setTimeout(()=>v.setStatus(""),1),C()},1);else C();Wh()}function _h(){var C=P,h=V,J=!1;P=V=(q)=>{J=!0};try{d0()}catch(q){}if(P=C,V=h,J)y("stdio streams had content in them that was not flushed. you should set EXIT_RUNTIME to 1 (see the Emscripten FAQ), or make sure to emit a newline when you printf etc."),y("(this may also be due to not including full filesystem support - try building with -sFORCE_FILESYSTEM)")}if(v.preInit){if(typeof v.preInit=="function")v.preInit=[v.preInit];while(v.preInit.length>0)v.preInit.pop()()}Eh(),j=Y;for(let C of Object.keys(v))if(!(C in X))Object.defineProperty(X,C,{configurable:!0,get(){A(`Access to module property ('${C}') is no longer possible via the module constructor argument; Instead, use the result of the module constructor.`)}});return j}})();(()=>{var $=u0;u0=function(X){if(new.target)throw new Error("loadBZip2WASM() should not be called with `new loadBZip2WASM()`");return $(X)}})();var I1=u0;var gv={"-2":"BZ_PARAM_ERROR: incorrect parameters","-3":"BZ_MEM_ERROR: couldn't allocate enough memory","-4":"BZ_DATA_ERROR: data integrity error when decompressing","-5":"BZ_DATA_ERROR_MAGIC: compressed data has incorrect header","-7":"BZ_UNEXPECTED_EOF: compressed data ends too early","-8":"BZ_OUTBUFF_FULL: destination buffer is full"};class H1{constructor(){this.wasmModule=void 0}async init(){if(this.wasmModule)return;this.wasmModule=await I1()}ensureInitialized(){if(!this.wasmModule)throw new Error(`${this.constructor.name} not initalized. call .init()`)}handleError($,X,j){if($===0)return;this.wasmModule._free(X),this.wasmModule._free(j);let v=gv[$];if(v)throw new Error(v);throw new Error(`error code: ${$}`)}createWASMBuffers($,X){let{_malloc:j,setValue:v,HEAPU8:f}=this.wasmModule,D=j($.length);f.set($,D);let Y=j(X),Q=j(X);return v(Q,X,"i32"),{sourcePtr:D,destPtr:Y,destLengthPtr:Q}}createBuffer($,X){let{_free:j,getValue:v,HEAPU8:f}=this.wasmModule,D=v(X,"i32"),Y=new Uint8Array(D);return Y.set(f.subarray($,$+D)),j($),j(X),Y}decompress($,X,j=!1,v=!1){let f=new Uint8Array($);if(v)X=f[0]<<24|f[1]<<16|f[2]<<8|f[3],f[0]=66,f[1]=90,f[2]=104,f[3]=49,j=!1;if(j){let K=new Uint8Array(f.length+4);K[0]=66,K[1]=90,K[2]=104,K[3]=49,K.set(f,4),f=K}this.ensureInitialized();let{sourcePtr:D,destPtr:Y,destLengthPtr:Q}=this.createWASMBuffers(f,X),Z=this.wasmModule._BZ2_bzBuffToBuffDecompress(Y,Q,D,f.length,0,0);return this.wasmModule._free(D),this.handleError(Z,Y,Q),this.createBuffer(Y,Q)}compress($,X=!1,j=!1,v=1,f=0){if(this.ensureInitialized(),!f)f=$.length;if(f<128)f=128;if(v<=0||v>9)throw new RangeError("blockSize should be between 1-9");let{sourcePtr:D,destPtr:Y,destLengthPtr:Q}=this.createWASMBuffers($,f),Z=this.wasmModule._BZ2_bzBuffToBuffCompress(Y,Q,D,$.length,v,0,30);this.wasmModule._free(D),this.handleError(Z,Y,Q);let K=this.createBuffer(Y,Q);if(X)K[0]=$.length>>24&255,K[1]=$.length>>16&255,K[2]=$.length>>8&255,K[3]=$.length&255;if(j)return K.subarray(4);return K}}var N1=new H1;await N1.init();var bv=N1;export{Fv as stopMidi,m1 as setWaveVolume,Nv as setMidiVolume,t1 as playWave,Hv as playMidi,bv as BZip2};

//# debugId=C1A8CE643F32831764756E2164756E21
