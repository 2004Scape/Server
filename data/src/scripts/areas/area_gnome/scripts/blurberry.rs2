[opnpc1,blurberry]
mes(tostring(%gnome_bar_progress));
switch_int(%gnome_bar_progress) {
    case 0 : @gnome_bar_start;
    case 1 : @gnome_bar_cocktails_start;
    case 2 : @gnome_bar_fruit_blast;
    case 3 : @gnome_bar_pineapple_punch;
    case 4 : @gnome_bar_wizard_blizzard;
    case 5 : @gnome_bar_ssg;
    case 6 : @gnome_bar_complete;
    case default : @nothing_interesting_happens;
}

[opnpcu,blurberry]
def_category $category = oc_category(last_item);
if ($category = category_83 | $category = category_15) {
    switch_int(%gnome_bar_progress) {
        case 0 : @gnome_bar_start;
        case 1 : @gnome_bar_cocktails_start;
        case 2 : @gnome_bar_fruit_blast;
        case 3 : @gnome_bar_pineapple_punch;
        case 4 : @gnome_bar_wizard_blizzard;
        case 5 : @gnome_bar_ssg;
        case 6 : @gnome_bar_complete;
        case default : @nothing_interesting_happens;
    }
}