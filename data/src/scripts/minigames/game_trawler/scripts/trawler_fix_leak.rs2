[oploc1,game_trawler_leak] @trawler_fix_leak;
[oplocu,game_trawler_leak]
if (last_useitem = swamp_paste) {
    @trawler_fix_leak;
} else {
    ~displaymessage(^dm_default);
}

[oplocu,game_trawler_repaired_leak]
if (last_useitem = swamp_paste) {
    @trawler_fix_leak; // in osrs theres no message if using swamp paste on hull/repaired leak
} else {
    ~displaymessage(^dm_default);
}

[oplocu,game_trawler_hull]
if (last_useitem = swamp_paste) {
    @trawler_fix_leak;
} else {
    ~displaymessage(^dm_default);
}

[label,trawler_fix_leak]
if (loc_type = game_trawler_leak) {
    p_arrivedelay;
    if (inv_total(inv, swamp_paste) < 1) {
        mes("You'll need some swamp paste to fill that.");
        return;
    }
    anim(human_pickuptable, 0);
    sound_synth(pick, 0, 0);
    p_delay(0);
    if (loc_type = game_trawler_leak) {
        loc_change(game_trawler_repaired_leak, 1000);
        if (~inzone_coord_pair_table(trawler_flood_zones, loc_coord) = true) {
            if (loc_find(movecoord(loc_coord, -128, 0, 0), game_trawler_leak) = true) {
                loc_change(game_trawler_repaired_leak, 1000);
            }
        } else if (loc_find(movecoord(loc_coord, 128, 0, 0), game_trawler_leak) = true) {
            loc_change(game_trawler_repaired_leak, 1000);
        }
        inv_del(inv, swamp_paste, 1);
    }
}