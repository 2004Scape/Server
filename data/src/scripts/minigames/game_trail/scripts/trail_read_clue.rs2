[opheld1,_clue]
def_string $trail_description = oc_param(last_item, trail_description);

if(compare("null", $trail_description) > 4) {
    ~full_trail_readclue($trail_description);
}

[proc,full_trail_readclue](string $string)
split_init($string, 340, 8, q8, null);

def_int $pagetotal = split_pagecount;
def_int $lines = split_linecount(0);

mes("TRAIL DEBUG: Linecount for clue -  <tostring($lines)>");


if($lines = 2) {
    if_settext(trail_clue:com_2, "");
    if_settext(trail_clue:com_3, split_get(0, 0));
    if_settext(trail_clue:com_4, split_get(0, 1));
    if_settext(trail_clue:com_5, "");
    if_opentop(trail_clue);
} else if($lines = 3) {
    if_settext(trail_clue:com_2, split_get(0, 0));
    if_settext(trail_clue:com_3, split_get(0, 1));
    if_settext(trail_clue:com_4, split_get(0, 2));
    if_settext(trail_clue:com_5, "");
    if_opentop(trail_clue);
} else if($lines = 5) {
    if_settext(trail_cluelong:com_2, "");
    if_settext(trail_cluelong:com_3, split_get(0, 0));
    if_settext(trail_cluelong:com_4, split_get(0, 1));
    if_settext(trail_cluelong:com_5, split_get(0, 2));
    if_settext(trail_cluelong:com_6, split_get(0, 3));
    if_settext(trail_cluelong:com_7, split_get(0, 4));
    if_settext(trail_cluelong:com_8, "");
    if_settext(trail_cluelong:com_9, "");
    if_opentop(trail_cluelong);

} else {
    mes("TRAIL DEBUG: Failed to get linecount for clue. <tostring($lines)>");
}



