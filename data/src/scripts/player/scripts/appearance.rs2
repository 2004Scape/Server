[proc,update_bas]
def_obj $weapon = inv_getobj(worn, ^wearpos_rhand);

bas_readyanim(oc_param($weapon, readyanim));
bas_turnonspot(oc_param($weapon, turnonspot));
bas_walk_f(oc_param($weapon, walk_f));
bas_walk_b(oc_param($weapon, walk_b));
bas_walk_l(oc_param($weapon, walk_l));
bas_walk_r(oc_param($weapon, walk_r));
bas_running(oc_param($weapon, running));

buildappearance(worn);

[proc,add_headicon](int $icon)
def_int $current = get_headicons;
def_int $bit = multiply(0x1, pow(2, $icon));
set_headicons(or($current, $bit));
buildappearance(worn);

[proc,del_headicon](int $icon)
def_int $current = get_headicons;
def_int $bit = multiply(0x1, pow(2, $icon));
set_headicons(and($current, sub($current, $bit)));
buildappearance(worn);

[proc,clear_headicons]()
set_headicons(0);
buildappearance(worn);
